{
  "title": "Changing the displayed components - render-variant",
  "text": "Properties with the \"render-variant\" type are used to display some components in themselves and hide other components;\r\n\r\nFor example, we have a page component with a click button and a variant property with the type \"render-variant\",\r\nas well as two more components variant1 and variant2, and we need to display only one of them, depending on the situation.\r\nWhen loading a page, the variant1 component should be displayed first. And the second variant2 will be hidden. Therefore, we will create a markup index.html without the second component, we will put the second component in the template.js file.\r\n\r\n index.html:\r\n\r\n```html\r\n<div data-page=\"container\">\r\n <div data-page-variant=\"render-variant\"> \r\n \r\n <div data-variant1=\"container\">text of the first variant</div>\r\n\r\n</div>\r\n <button data-page-click=\"click\">change option</button>\r\n</div> \r\n\r\n\r\n```\r\n\r\ntemplate.js : \r\n\r\n```javascript\r\n\r\nvar template =` <div data-variant2=\"container\">text of the second variant</div> `;\r\n\r\n```\r\n\r\n\r\nApplication Description:\r\n\r\n```javscript\r\n \r\n var StateMap ={\r\n page: {\r\n container: \"page\",\r\n props: [\"variant\", \"click\"],\r\n methods: {\r\n \r\n click: function(){\r\n\r\nvar variant = this.parent.props.variant; //get a reference to the variant property from the click property;\r\n \r\n console.log(variant);\r\n \r\n var newVariant = \"variant2\"; //name of the new component to display\r\n \r\n if(variant.renderChild.pathToComponent == \"variant2\") newVariant = \"variant1\" //if the current component to display \"variant2\" change it to \"variant1\"\r\n\r\n variant.setProp(newVariant); //displaying a new variant\r\n\r\n         }\r\n\r\n   }\r\n},\r\nvariant1: {\r\ncontainer: \"variant1\",\r\n props: [],\r\n methods: { \r\n                 } \r\n },\r\n variant2: {\r\n container: \"variant2\",\r\n props: [],\r\nmethods: {\r\n                }\r\n},\r\nstateSettings: {\r\ntemplateVar: template, //specified in the settings to look for the markup of missing templates in the template variable from the template file.js\r\n                    } \r\n \r\n }\r\n\r\n```\r\nIn the example above, we created the markup without the second variant of the template, which we placed in the template file.js for convenience. Loading templates in this way creates components synchronously, after all the necessary js files are loaded."
}