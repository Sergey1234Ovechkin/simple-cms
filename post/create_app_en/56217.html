<!DOCTYPE html>
 <html lang="ru">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="keywords" content="htmlix, создание spa на htmlix, htmlix уроки, htmlix api, javascript">
		<link rel="stylesheet" href="https://sergey123ovechkin.github.io/simple-cms/static/css/bootstrap.min.css">
		 <script src="https://sergey123ovechkin.github.io/simple-cms/static/js/showdown.min.js"></script>
		<link rel="stylesheet" href="https://sergey123ovechkin.github.io/simple-cms/static/css/main.css">
    </head>
<body>
<div class="container-fluid">



<nav data-menu="array" class="navbar navbar-expand-sm navbar-light bg-light">
		
		<div data-menu-mobail_toggler="click" class="toggler-mobail-nav-type mr-auto" style="background-color: #ebf5ff; width: 100%;">
		  <a href="#" style="font-size: 25px; margin-left: 7px; "> = </a>
		</div>	
		<ul data-menu-mobail_toggler_style="style" class="navbar-nav mr-auto">
												
			 <li class="nav-item" data-menu_item="container">
					<a data-menu_item-title="text" data-menu_item-click="click" data-menu_item-class="class" data-menu_item-data="home" class="nav-link" href="/simple-cms/Htmlix/#">Htmlix</a>
					<ul class="hover-non">
					
					</ul>
			  </li>
			  
			   <li class="nav-item" data-menu_item="container">
					<a data-menu_item-title="text" data-menu_item-click="click" data-menu_item-class="class" data-menu_item-data="api" class="nav-link" href="/simple-cms/api/#">api</a>
					<ul class="hover-non">
					
					<li class="nav-item" data-item_level_2_top="container">
							<a class="nav-link " href="/simple-cms/api/terms/#" data-item_level_2_top-click="click" data-item_level_2_top-data="terms">   <span data-item_level_2_top-title="text">Термины</span>
								
							</a>
							<ul data-item_level_2_top-post_group="group" class="hover-non">
							
								
				
							
							<li style="" data-item_level_3="container">
									<a href="/simple-cms/post/terms/31782" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="31782" data-item_level_3-href="href" title="Компоненты  htmlix">Компоненты </a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/terms/20010" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="20010" data-item_level_3-href="href" title="Свойства htmlix">Свойства</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/terms/19950" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="19950" data-item_level_3-href="href" title="Описание и экземпляр приложения htmlix">Описание и экземпляр приложения</a>
							   </li></ul>
						</li><li class="nav-item" data-item_level_2_top="container">
							<a class="nav-link " href="/simple-cms/api/create_components/#" data-item_level_2_top-click="click" data-item_level_2_top-data="create_components">   <span data-item_level_2_top-title="text">Создание компонентов</span>
								
							</a>
							<ul data-item_level_2_top-post_group="group" class="hover-non">
							
								
				
							
							<li style="" data-item_level_3="container">
									<a href="/simple-cms/post/create_components/24545" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="24545" data-item_level_3-href="href" title="Создание контейнера htmlix">Создание контейнера</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/create_components/79619" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="79619" data-item_level_3-href="href" title="Добавление свойств в контейнер htmlix">Добавление свойств в контейнер</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/create_components/49617" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="49617" data-item_level_3-href="href" title="Создание массива htmlix">Создание массива</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/create_components/26365" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="26365" data-item_level_3-href="href" title="Добавление контейнеров в массив htmlix">Добавление контейнеров в массив</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/create_components/22997" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="22997" data-item_level_3-href="href" title="Добавление пользовательских событий htmlix">Добавление пользовательских событий</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/create_components/78876" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="78876" data-item_level_3-href="href" title="Прослушивание пользовательских событий из свойств массива htmlix">Прослушивание пользовательских событий из свойств массива</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/create_components/76769" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="76769" data-item_level_3-href="href" title="Создание виртуального массива htmlix">Создание виртуального массива</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/create_components/91564" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="91564" data-item_level_3-href="href" title="Смена отображаемых компонентов - render-variant htmlix">Смена отображаемых компонентов - render-variant</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/create_components/4099" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="4099" data-item_level_3-href="href" title="Смена отображаемых компонентов - fetchComponents  htmlix">Смена отображаемых компонентов - fetchComponents </a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/create_components/17990" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="17990" data-item_level_3-href="href" title=" Обновление  массива с различными вариантами шаблонов  htmlix"> Обновление  массива с различными вариантами шаблонов </a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/create_components/58350" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="58350" data-item_level_3-href="href" title="Получение сразу всех данных из массива htmlix">Получение сразу всех данных из массива</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/create_components/6741" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="6741" data-item_level_3-href="href" title="Обновление массива с различными вариантами групп htmlix">Обновление массива с различными вариантами групп</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/create_components/93566" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="93566" data-item_level_3-href="href" title="Наследование компонентов htmlix">Наследование компонентов</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/create_components/41234" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="41234" data-item_level_3-href="href" title="Наследование отдельных свойств компонентов htmlix">Наследование отдельных свойств компонентов</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/create_components/89894" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="89894" data-item_level_3-href="href" title="Вспомогательные методы - aux htmlix">Вспомогательные методы - aux</a>
							   </li></ul>
						</li><li class="nav-item" data-item_level_2_top="container">
							<a class="nav-link " href="/simple-cms/api/app_structure/#" data-item_level_2_top-click="click" data-item_level_2_top-data="app_structure">   <span data-item_level_2_top-title="text">Структура приложения</span>
								
							</a>
							<ul data-item_level_2_top-post_group="group" class="hover-non">
							
								
				
							
							<li style="" data-item_level_3="container">
									<a href="/simple-cms/post/app_structure/17027" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="17027" data-item_level_3-href="href" title="Навигация htmlix">Навигация</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/app_structure/40635" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="40635" data-item_level_3-href="href" title="Экземпляр приложения htmlix">Экземпляр приложения</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/app_structure/57226" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="57226" data-item_level_3-href="href" title="Структура свойства Prop htmlix">Структура свойства Prop</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/app_structure/64489" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="64489" data-item_level_3-href="href" title="Структура контейнера Container htmlix">Структура контейнера Container</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/app_structure/28365" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="28365" data-item_level_3-href="href" title="Структура массива HTMLixArray htmlix">Структура массива HTMLixArray</a>
							   </li></ul>
						</li><li class="nav-item" data-item_level_2_top="container">
							<a class="nav-link " href="/simple-cms/api/data_types/#" data-item_level_2_top-click="click" data-item_level_2_top-data="data_types">   <span data-item_level_2_top-title="text">Типы данных</span>
								
							</a>
							<ul data-item_level_2_top-post_group="group" class="hover-non">
							
								
				
							
							<li style="" data-item_level_3="container">
									<a href="/simple-cms/post/data_types/62713" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="62713" data-item_level_3-href="href" title="Общие сведения htmlix">Общие сведения</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/data_types/40591" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="40591" data-item_level_3-href="href" title="getProp() htmlix">getProp()</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/data_types/35443" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="35443" data-item_level_3-href="href" title="setProp(&quot;newProp&quot;) htmlix">setProp("newProp")</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/data_types/32847" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="32847" data-item_level_3-href="href" title="removeProp() htmlix">removeProp()</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/data_types/36021" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="36021" data-item_level_3-href="href" title="group htmlix">group</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/data_types/61069" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="61069" data-item_level_3-href="href" title="render-variant htmlix">render-variant</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/data_types/66516" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="66516" data-item_level_3-href="href" title="Дополнительные методы для свойств - событий htmlix">Дополнительные методы для свойств - событий</a>
							   </li></ul>
						</li><li class="nav-item" data-item_level_2_top="container">
							<a class="nav-link " href="/simple-cms/api/methods/#" data-item_level_2_top-click="click" data-item_level_2_top-data="methods">   <span data-item_level_2_top-title="text">Методы</span>
								
							</a>
							<ul data-item_level_2_top-post_group="group" class="hover-non">
							
								
				
							
							<li style="" data-item_level_3="container">
									<a href="/simple-cms/post/methods/18945" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="18945" data-item_level_3-href="href" title="Методы контейнера htmlix">Методы контейнера</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/methods/53743" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="53743" data-item_level_3-href="href" title="Методы массива HTMLixArray htmlix">Методы массива HTMLixArray</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/methods/34965" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="34965" data-item_level_3-href="href" title="Методы пользовательских событий htmlix">Методы пользовательских событий</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/methods/49794" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="49794" data-item_level_3-href="href" title="Методы экземпляра приложения htmlix">Методы экземпляра приложения</a>
							   </li></ul>
						</li><li class="nav-item" data-item_level_2_top="container">
							<a class="nav-link " href="/simple-cms/api/additional_settings/#" data-item_level_2_top-click="click" data-item_level_2_top-data="additional_settings">   <span data-item_level_2_top-title="text">Дополнительные настройки</span>
								
							</a>
							<ul data-item_level_2_top-post_group="group" class="hover-non">
							
								
				
							
							<li style="" data-item_level_3="container">
									<a href="/simple-cms/post/additional_settings/97160" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="97160" data-item_level_3-href="href" title="Шаблон &quot;template&quot; для массива  htmlix">Шаблон "template" для массива </a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/additional_settings/42723" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="42723" data-item_level_3-href="href" title="Способы указания свойств htmlix">Способы указания свойств</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/additional_settings/16593" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="16593" data-item_level_3-href="href" title="Уточняющий селектор ( selector ) для массива htmlix">Уточняющий селектор ( selector ) для массива</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/additional_settings/74959" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="74959" data-item_level_3-href="href" title="HtmlixRouter  htmlix">HtmlixRouter </a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/additional_settings/6596" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="6596" data-item_level_3-href="href" title="События создания приложения и компонентов htmlix">События создания приложения и компонентов</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/additional_settings/62" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="62" data-item_level_3-href="href" title="Загрузка шаблонов из .js файла - templateVar htmlix">Загрузка шаблонов из .js файла - templateVar</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/additional_settings/53600" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="53600" data-item_level_3-href="href" title="Сокращенный доступ к свойствам и методам htmlix">Сокращенный доступ к свойствам и методам</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/additional_settings/79539" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="79539" data-item_level_3-href="href" title="Контекст в stateMethods методах htmlix">Контекст в stateMethods методах</a>
							   </li></ul>
						</li></ul>
			   </li>
			   							
		<li class="nav-item" data-menu_item="container">
					<a data-menu_item-title="text" data-menu_item-click="click" data-menu_item-class="class" data-menu_item-data="lessons" class="nav-link" href="/simple-cms/lessons/#">Уроки</a>
					<ul class="hover-non">
					
					<li class="nav-item" data-item_level_2_top="container">
							<a class="nav-link " href="/simple-cms/lessons/create_app/#" data-item_level_2_top-click="click" data-item_level_2_top-data="create_app">   <span data-item_level_2_top-title="text">Создание приложений</span>
								
							</a>
							<ul data-item_level_2_top-post_group="group" class="hover-non">
							
								
				
							
							<li style="" data-item_level_3="container">
									<a href="/simple-cms/post/create_app/6791" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="6791" data-item_level_3-href="href" title="Создание прототипа SPA интернет магазина htmlix">Создание прототипа SPA интернет магазина</a>
							   </li></ul>
						</li><li class="nav-item" data-item_level_2_top="container">
							<a class="nav-link " href="/simple-cms/lessons/additional_topics/#" data-item_level_2_top-click="click" data-item_level_2_top-data="additional_topics">   <span data-item_level_2_top-title="text">Дополнительные темы</span>
								
							</a>
							<ul data-item_level_2_top-post_group="group" class="hover-non">
							
								
				
							
							<li style="" data-item_level_3="container">
									<a href="/simple-cms/post/additional_topics/41399" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="41399" data-item_level_3-href="href" title="Работа с пользовательскими событиями htmlix">Работа с пользовательскими событиями</a>
							   </li></ul>
						</li></ul>
			  </li><li class="nav-item" data-menu_item="container">
					<a data-menu_item-title="text" data-menu_item-click="click" data-menu_item-class="class" data-menu_item-data="api_en" class="nav-link" href="/simple-cms/api_en/#">api english version</a>
					<ul class="hover-non">
					
					<li class="nav-item" data-item_level_2_top="container">
							<a class="nav-link " href="/simple-cms/api_en/terms_en/#" data-item_level_2_top-click="click" data-item_level_2_top-data="terms_en">   <span data-item_level_2_top-title="text">Terms</span>
								
							</a>
							<ul data-item_level_2_top-post_group="group" class="hover-non">
							
								
				
							
							<li style="" data-item_level_3="container">
									<a href="/simple-cms/post/terms_en/63053" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="63053" data-item_level_3-href="href" title="Components htmlix">Components</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/terms_en/24778" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="24778" data-item_level_3-href="href" title="Properties htmlix">Properties</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/terms_en/58577" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="58577" data-item_level_3-href="href" title="Description and instance of the application htmlix">Description and instance of the application</a>
							   </li></ul>
						</li><li class="nav-item" data-item_level_2_top="container">
							<a class="nav-link " href="/simple-cms/api_en/create_components_en/#" data-item_level_2_top-click="click" data-item_level_2_top-data="create_components_en">   <span data-item_level_2_top-title="text">Creating components</span>
								
							</a>
							<ul data-item_level_2_top-post_group="group" class="hover-non">
							
								
				
							
							<li style="" data-item_level_3="container">
									<a href="/simple-cms/post/create_components_en/98742" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="98742" data-item_level_3-href="href" title="Creating a container htmlix">Creating a container</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/create_components_en/28686" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="28686" data-item_level_3-href="href" title="Adding properties to a container htmlix">Adding properties to a container</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/create_components_en/80223" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="80223" data-item_level_3-href="href" title="Creating an array htmlix">Creating an array</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/create_components_en/81622" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="81622" data-item_level_3-href="href" title=" Adding containers to an array htmlix"> Adding containers to an array</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/create_components_en/5828" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="5828" data-item_level_3-href="href" title="Adding Custom Events htmlix">Adding Custom Events</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/create_components_en/37556" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="37556" data-item_level_3-href="href" title="Listening to user events from array properties htmlix">Listening to user events from array properties</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/create_components_en/90002" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="90002" data-item_level_3-href="href" title=" Creating a virtual array htmlix"> Creating a virtual array</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/create_components_en/81662" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="81662" data-item_level_3-href="href" title="Changing the displayed components - render-variant htmlix">Changing the displayed components - render-variant</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/create_components_en/52673" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="52673" data-item_level_3-href="href" title="Changing the displayed components - fetchComponents htmlix">Changing the displayed components - fetchComponents</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/create_components_en/40309" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="40309" data-item_level_3-href="href" title="Updating an array with different template options htmlix">Updating an array with different template options</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/create_components_en/21822" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="21822" data-item_level_3-href="href" title="Getting all the data from the array at once htmlix">Getting all the data from the array at once</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/create_components_en/8238" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="8238" data-item_level_3-href="href" title="Updating an array with different group options htmlix">Updating an array with different group options</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/create_components_en/52090" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="52090" data-item_level_3-href="href" title="Inheritance of components htmlix">Inheritance of components</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/create_components_en/9630" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="9630" data-item_level_3-href="href" title="Inheritance of individual component properties htmlix">Inheritance of individual component properties</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/create_components_en/88118" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="88118" data-item_level_3-href="href" title="Auxiliary methods - aux htmlix">Auxiliary methods - aux</a>
							   </li></ul>
						</li><li class="nav-item" data-item_level_2_top="container">
							<a class="nav-link " href="/simple-cms/api_en/app_structure_en/#" data-item_level_2_top-click="click" data-item_level_2_top-data="app_structure_en">   <span data-item_level_2_top-title="text">Application Structure</span>
								
							</a>
							<ul data-item_level_2_top-post_group="group" class="hover-non">
							
								
				
							
							<li style="" data-item_level_3="container">
									<a href="/simple-cms/post/app_structure_en/69267" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="69267" data-item_level_3-href="href" title="Navigation htmlix">Navigation</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/app_structure_en/14429" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="14429" data-item_level_3-href="href" title="Application Instance htmlix">Application Instance</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/app_structure_en/37890" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="37890" data-item_level_3-href="href" title="Structure of the Prop property htmlix">Structure of the Prop property</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/app_structure_en/4764" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="4764" data-item_level_3-href="href" title="Container Structure Container htmlix">Container Structure Container</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/app_structure_en/7675" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="7675" data-item_level_3-href="href" title="The structure of the HTMLixArray array htmlix">The structure of the HTMLixArray array</a>
							   </li></ul>
						</li><li class="nav-item" data-item_level_2_top="container">
							<a class="nav-link " href="/simple-cms/api_en/data_types_en/#" data-item_level_2_top-click="click" data-item_level_2_top-data="data_types_en">   <span data-item_level_2_top-title="text">Data Types</span>
								
							</a>
							<ul data-item_level_2_top-post_group="group" class="hover-non">
							
								
				
							
							<li style="" data-item_level_3="container">
									<a href="/simple-cms/post/data_types_en/22680" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="22680" data-item_level_3-href="href" title=" General information htmlix"> General information</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/data_types_en/69113" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="69113" data-item_level_3-href="href" title="getProp() htmlix">getProp()</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/data_types_en/11200" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="11200" data-item_level_3-href="href" title="setProp(&quot;newProp&quot;) htmlix">setProp("newProp")</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/data_types_en/47543" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="47543" data-item_level_3-href="href" title="removeProp() htmlix">removeProp()</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/data_types_en/64811" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="64811" data-item_level_3-href="href" title="group htmlix">group</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/data_types_en/8707" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="8707" data-item_level_3-href="href" title="render-variant htmlix">render-variant</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/data_types_en/12889" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="12889" data-item_level_3-href="href" title="Additional methods for event properties htmlix">Additional methods for event properties</a>
							   </li></ul>
						</li><li class="nav-item" data-item_level_2_top="container">
							<a class="nav-link " href="/simple-cms/api_en/methods_en/#" data-item_level_2_top-click="click" data-item_level_2_top-data="methods_en">   <span data-item_level_2_top-title="text">Methods</span>
								
							</a>
							<ul data-item_level_2_top-post_group="group" class="hover-non">
							
								
				
							
							<li style="" data-item_level_3="container">
									<a href="/simple-cms/post/methods_en/44291" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="44291" data-item_level_3-href="href" title="Container Methods htmlix">Container Methods</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/methods_en/86858" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="86858" data-item_level_3-href="href" title="HTMLixArray Array Methods htmlix">HTMLixArray Array Methods</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/methods_en/99011" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="99011" data-item_level_3-href="href" title="Custom Event methods htmlix">Custom Event methods</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/methods_en/47179" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="47179" data-item_level_3-href="href" title="Application Instance Methods htmlix">Application Instance Methods</a>
							   </li></ul>
						</li><li class="nav-item" data-item_level_2_top="container">
							<a class="nav-link " href="/simple-cms/api_en/additional_settings_en/#" data-item_level_2_top-click="click" data-item_level_2_top-data="additional_settings_en">   <span data-item_level_2_top-title="text">Additional settings</span>
								
							</a>
							<ul data-item_level_2_top-post_group="group" class="hover-non">
							
								
				
							
							<li style="" data-item_level_3="container">
									<a href="/simple-cms/post/additional_settings_en/30358" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="30358" data-item_level_3-href="href" title="Template &quot;template&quot; for an array htmlix">Template "template" for an array</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/additional_settings_en/51149" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="51149" data-item_level_3-href="href" title="Ways to specify properties htmlix">Ways to specify properties</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/additional_settings_en/16563" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="16563" data-item_level_3-href="href" title="Clarifying selector for an array htmlix">Clarifying selector for an array</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/additional_settings_en/15332" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="15332" data-item_level_3-href="href" title="HtmlixRouter  htmlix">HtmlixRouter </a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/additional_settings_en/71253" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="71253" data-item_level_3-href="href" title="Application and Component creation Events htmlix">Application and Component creation Events</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/additional_settings_en/35442" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="35442" data-item_level_3-href="href" title="Loading templates from .js file - templateVar htmlix">Loading templates from .js file - templateVar</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/additional_settings_en/79179" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="79179" data-item_level_3-href="href" title="Reduced access to properties and methods htmlix">Reduced access to properties and methods</a>
							   </li><li style="" data-item_level_3="container">
									<a href="/simple-cms/post/additional_settings_en/55709" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="55709" data-item_level_3-href="href" title="Context in stateMethods methods htmlix">Context in stateMethods methods</a>
							   </li></ul>
						</li></ul>
			  </li><li class="nav-item" data-menu_item="container">
					<a data-menu_item-title="text" data-menu_item-click="click" data-menu_item-class="class" data-menu_item-data="lessons_en" class="nav-link active" href="/simple-cms/lessons_en/#">Lessons</a>
					<ul class="hover-non">
					
					<li class="nav-item" data-item_level_2_top="container">
							<a class="nav-link " href="/simple-cms/lessons_en/additional_topics_en/#" data-item_level_2_top-click="click" data-item_level_2_top-data="additional_topics_en">   <span data-item_level_2_top-title="text">Additional topics</span>
								
							</a>
							<ul data-item_level_2_top-post_group="group" class="hover-non">
							
								
				
							
							<li style="" data-item_level_3="container">
									<a href="/simple-cms/post/additional_topics_en/1082" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="1082" data-item_level_3-href="href" title="Working with user events htmlix">Working with user events</a>
							   </li></ul>
						</li><li class="nav-item" data-item_level_2_top="container">
							<a class="nav-link " href="/simple-cms/lessons_en/create_app_en/#" data-item_level_2_top-click="click" data-item_level_2_top-data="create_app_en">   <span data-item_level_2_top-title="text">Creating applications</span>
								
							</a>
							<ul data-item_level_2_top-post_group="group" class="hover-non">
							
								
				
							
							<li style="" data-item_level_3="container">
									<a href="/simple-cms/post/create_app_en/56217" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="56217" data-item_level_3-href="href" title="Creating a prototype of an online store SPA htmlix">Creating a prototype of an online store SPA</a>
							   </li></ul>
						</li></ul>
			  </li><li class="nav-item" data-menu_item="container">
					<a data-menu_item-title="text" data-menu_item-click="click" data-menu_item-class="class" data-menu_item-data="contacts" class="nav-link" href="/simple-cms/contacts/#">Контакты</a>
					<ul class="hover-non">
					
					</ul>
			  </li></ul>

		 <li class="nav-item toggler-nav-type" style="margin-top: 16px; margin-left: 7px; margin-right: 15px;">
			<label class="switch">
				<input data-menu-toggle_nav_type="click" type="checkbox">
				<span class="slider round"></span>
			</label>
		</li>

		
</nav>



<div data-router_main="router"><div data-sections="container" class="container-fluid" style="margin-top: 10px;">
	    <div class="row">
		
			<div data-sections-left_coll_style="style" class="col-sm-12 col-md-3" style="">
				<section class="categories">
					<ul data-sections-group_items="group" class="nav flex-column">
					
						<li class="nav-item" data-item_level_2="container">
							<a class="nav-link " href="/simple-cms/lessons_en/additional_topics_en/#" data-item_level_2-click="click" data-item_level_2-class="class" data-item_level_2-data="additional_topics_en">   <span data-item_level_2-title="text">Additional topics</span>
								<span data-item_level_2-simbol="text" style="color: red;">-</span>
							</a>
							<ul data-item_level_2-post_group="group" data-item_level_2-post_group_style="style" class="hover-non" style="display: ''">
							
							
				
							
							<li style="" data-item_level_3="container">
									<a href="/simple-cms/post/additional_topics_en/1082" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="1082" data-item_level_3-href="href" title="Working with user events htmlix">Working with user events</a>
							   </li></ul>
						</li>

					<li class="nav-item" data-item_level_2="container">
							<a class="nav-link " href="/simple-cms/lessons_en/create_app_en/#" data-item_level_2-click="click" data-item_level_2-class="class" data-item_level_2-data="create_app_en">   <span data-item_level_2-title="text">Creating applications</span>
								<span data-item_level_2-simbol="text" style="color: red;">-</span>
							</a>
							<ul data-item_level_2-post_group="group" data-item_level_2-post_group_style="style" class="hover-non" style="display: ''">
							
							
				
							
							<li style="" data-item_level_3="container">
									<a href="/simple-cms/post/create_app_en/56217" data-item_level_3-click="click" data-item_level_3-title="text" data-item_level_3-class="class" data-item_level_3-data="56217" data-item_level_3-href="href" title="Creating a prototype of an online store SPA htmlix">Creating a prototype of an online store SPA</a>
							</li></ul>
						</li></ul><!-- end categories="array" -->
				</section>
			</div>
			
			
			<div data-sections-right_coll_class="class" class="col-sm-12 col-md-9">
			
				<div class="body" data-page_single="container">
				
					<h1 data-page_single-title="text" class="mb20" style="margin-bottom: 20px;">Creating a prototype of an online store SPA</h1>
	
					<div data-page_single-description="html" style="margin-bottom: 15px;"><p>This section will describe the step-by-step creation of a simple prototype of a frontend SPA online store. The server part of which is written in node.js using express, a template engine - twig , a database - NeDB, a form module for processing form data, the client part is written in htmlix.</p>
<p>This is a ready-made example, we will simply delete from the file <code>/static/js/front.js</code> all that is there and insert instead:</p>
<pre><code class="javascript language-javascript"><span class="js-vars">var</span> State <span class="js-vars">=</span> {
}
window.onload <span class="js-vars">=</span> <span class="js-vars-2">function</span>(){
<span class="js-comments">///creating an HTMLix instance</span>

 <span class="js-vars">var</span> HM <span class="js-vars">=</span> <span class="js-vars">new</span> HTMLixState(State);
 <span class="js-vars-2">console</span>.log(HM);
 }
</code></pre>
<p>So we completely removed the frontend from this example, and we still have the application server, let's figure out how it works:</p>
<ul>
<li>first you need to install all the modules that are not currently available, to do this, enter in the console: <code>npm install</code></li>
<li>next, type <code>node app</code> in the command line</li>
<li>then go to <code>localhost:3000</code></li>
</ul>
<p>So after clicking on various menu items, we see a working server, without the frontend part because we just deleted it.
Now we will create it again step by step, but first let's figure out how the server works.</p>
<p>By going to the address <code>"/"</code> we are given the top menu with three items, the main page with six product cards, and a list of categories on the left side.</p>
<p>To give us all this, the server sends two requests to the database, in one it finds all categories, in the second the first six product cards from the table, then attaches two fields from the product category matching the id to each product card, then gives us the <code>/views/index.twig</code> view by passing an array to it with categories - <code>categories</code> and an array with product cards <code>carts</code>.</p>
<p>Further in the view itself <code>/views/index.twig</code> we load the site header and the top menu from the <code>/twig_templates</code> folder:</p>
<p><code>{% include '/twig_templates/header.twig' %}</code></p>
<p>Next, we create a markup for the main page and the category page, in it we create a list of categories from the array <code>categories</code> transmitted from the server:</p>
<pre><code class="html language-html">&lt;section class="categories" &gt;
 <span class="tag">&lt;ul</span> class="nav flex-column" data-<span class="data-main-attr">categories</span><span class="data-attr"></span>="array"&gt;
 {% for category in categories %}
 <span class="tag">&lt;li</span> class="nav-item" data-<span class="data-main-attr">category</span><span class="data-attr"></span>="container"&gt;
 &lt;a {% if activeCategory == category.idCategory %}
 class="nav-link active" 
 {% else %}
 class="nav-link" 
 {% endif %} 
 data-<span class="data-main-attr">category</span>-<span class="data-attr">click</span>="click" data-<span class="data-main-attr">category</span>-<span class="data-attr">title</span>="text" data-<span class="data-main-attr">category</span>-<span class="data-attr">class</span>="class" data-<span class="data-main-attr">category</span>-<span class="data-attr">data</span>="{{ category.idCategory }}" class="nav-link" href="/category/{{ category.idCategory }}"&gt;{{ category.titleCategory }}&lt;/a&gt;
 <span class="tag">&lt;/li&gt;</span>
 {% endfor %}
 <span class="tag">&lt;/ul&gt;</span>
&lt;/section&gt;
</code></pre>
<p>So far, we do not pay attention to the entries in the tag starting with data- all this applies to the frontend and we are not interested yet.</p>
<p>Next, in the loop, we create all product cards from the <code>carts</code> array:</p>
<pre><code>{% for cart in carts %}
 <span class="tag">&lt;div</span> data-<span class="data-main-attr">cart</span><span class="data-attr"></span>="container" class="col-12 col-sm-6 col-lg-4"&gt;
 <span class="tag">&lt;div</span> class="card" style="margin-bottom<span class="js-vars">:</span> 10px;"&gt;
 &lt;img data-<span class="data-main-attr">cart</span>-<span class="data-attr">src_img</span>="src" src="/static/upload/{{cart.image}}" class="card-img-top" alt="..."&gt;
 <span class="tag">&lt;div</span> class="card-body"&gt;
 &lt;h5 data-<span class="data-main-attr">cart</span>-<span class="data-attr">title</span>="text" class="card-title"&gt;{{cart.title}}&lt;/h5&gt;
 &lt;h6 data-<span class="data-main-attr">cart</span>-<span class="data-attr">title_category</span>="text" class="card-subtitle mb-2 text-muted"&gt;
 {{cart.titleCategory}}
&lt;/h6&gt;
 <span class="tag">&lt;div</span> class="row justify-content-between"&gt;
 <span class="tag">&lt;div</span> class="col-6"&gt;
 &lt;h5 data-<span class="data-main-attr">cart</span>-<span class="data-attr">cost</span>="text" class="card-title"&gt;{{cart.cost}}&lt;/h5&gt;
 <span class="tag">&lt;/div&gt;</span>
 <span class="tag">&lt;div</span> class="col-6" style="padding-right<span class="js-vars">:</span> 0px;"&gt;
 &lt;a data-<span class="data-main-attr">cart</span>-<span class="data-attr">click</span>="click" data-<span class="data-main-attr">cart</span>-<span class="data-attr">data</span>="/cart/{{cart._id}}" href="/cart/{{cart._id}}" class="btn btn-primary btn-sm"&gt;Watch&lt;/a&gt;
<span class="tag">&lt;/div&gt;</span> 
 <span class="tag">&lt;/div&gt;</span>
 <span class="tag">&lt;/div&gt;</span>
 <span class="tag">&lt;/div&gt;</span>
 <span class="tag">&lt;/div&gt;</span>
{% endfor %}
</code></pre>
<p>Then at the very end we load footer, in which we connect htmlix.js and frontend.js - our frontend file:</p>
<p><code>{% include '/twig_templates/footer.twig' %}</code></p>
<p>Similarly for the address <code>http://localhost:3000/category/:idCategory</code> we also load all categories, then search for product cards for this category and then also pass all this to the <code>/views/index.twig</code> view.</p>
<p>Also, let's immediately look at two addresses: <code>/json</code> and <code>/category/:idCategory/json</code> by going to these addresses, we will get an array of product cards in json format instead of representation, for the first address these are the first six cards, and for the second card of the corresponding category - <code>:idCategory</code>.</p>
<p>Now let's analyze the route <code>"/cart/:idCart"</code> </p>
<p>Here we also load all categories, then one card corresponding to <code>:idCart</code>, then we also attach two fields from the category table to it, then we give the view `/views/cart.twig" by passing to it a card - cart and an array with categories categories.</p>
<p>Next, in the view, we also connect `/twig_templates/header.twig". Connect the header, then create a list of categories from the categories array.</p>
<p>We create a markup for the product card, in it we insert data from the cart object, and also connect one of two template options from the folder <code>/twig_templates/</code>: <code>cart_variant_option.twig</code> or <code>cart_variant_radio.twig</code> which we selected when creating the product category.</p>
<pre><code><span class="tag">&lt;div</span> class="col-md-5" data-<span class="data-main-attr">cart_single</span>-<span class="data-attr">variant_tmpl</span>="render-variant"&gt;

{%set templ <span class="js-vars">=</span> cart.variant_tmpl%}
<span class="js-comments">
&lt;!-- created the set templ variable based on the property of the cart.variant_tmpl object --&gt;</span> 

 {%include '/twig_templates/' ~templ ~ '.twig'%}
<span class="js-comments">
&lt;!-- dynamically inserted a template from the folder '/twig_templates/' based on a variable with the template name templ --&gt;</span>

<span class="tag">&lt;/div&gt;</span>
</code></pre>
<p>At the end of the markup, we connect footer.</p>
<p>The route <code>"/cart/:idCart/json"</code> returns an empty array [], this route is used for a stub.</p>
<p>So we know enough about the server to start building an application for three routes so far.</p>
<p>Let's first deal with the routes <code>"/"</code> and <code>"/category/:idCategory"</code>:</p>
<p>Here the page can be divided into two components: categories and product cards, let's create two components in the application description: categories, cards:</p>
<p>In the html code of the file <code>/views/index.twig</code> they are already designated as <code>data-carts</code>="array" - the carts component, <code>data-cart</code>="container" - the cart container of the carts component. <code>data-categories</code>="array" is the categories component, <code>data-category</code>="container" is the category container of the categories component.</p>
<pre><code class="javascript language-javascript"><span class="js-vars">var</span> State <span class="js-vars">=</span> {

 categories<span class="js-vars">:</span> { <span class="js-comments">//category component</span>
 container<span class="js-vars">:</span> "category", <span class="js-comments">//container of the category component</span>
 props<span class="js-vars">:</span> [ ],
 methods<span class="js-vars">:</span> {

 }
},
carts<span class="js-vars">:</span> { <span class="js-comments">//product card component</span>
container<span class="js-vars">:</span> "cart", <span class="js-comments">//product card component container</span>
 props<span class="js-vars">:</span> [ ],
 methods<span class="js-vars">:</span> { 
          } 
    } 
}
</code></pre>
<p>So we have created two components let's add some properties for the categories component: </p>
<ul>
<li><code>"data"</code> - data that contains idCategory ( {{ category.idCategory }} ), </li>
<li><code>"click"</code>- category click handler,</li>
<li><code>class</code> - access to the category class to change the color of the current category,</li>
<li><code>"title"</code> - access to the text inside the category ( {{ category.titleCategory }} ),</li>
</ul>
<p>In the html code of the file <code>/views/index.twig</code> they are already designated as data-category-data="{{ category.idCategory }}", data-category-click="click", data-category-class="class", data-category-title="text".</p>
<p>Let's add them to the application description:</p>
<pre><code class="javascript language-javascript"> categories<span class="js-vars">:</span> {
 container<span class="js-vars">:</span> "category", 
 props<span class="js-vars">:</span> [ "data", "click", 'class', "title"],
 methods<span class="js-vars">:</span> {
 click<span class="js-vars">:</span> <span class="js-vars-2">function</span>(){

 event.preventDefault(); 
 <span class="js-vars-2">console</span>.log(this);

 },
 } 
 },
</code></pre>
<p>In the code above, we added four properties for each category container, and for the "click" property, a method that does nothing so far, only cancels the link click and page reload. Let's figure out what we need to do when clicking on a category:</p>
<ul>
<li>1 - load an array with product cards for further use in order to build a carts component based on the data received.</li>
<li>2 - delete the class .active for the previous category and set for the new category.</li>
</ul>
<p>For the first point, let's create the <code>load_carts</code> method in the <code>stateMethods</code> methods common to the entire application and put the loaded cards in the <code>carts</code> variable of the <code>stateProperties</code> object - variables common to the entire application;</p>
<p>For the second point, we will create a custom "emiter-click-on-category" event and listen to it in all category containers to add or remove a class when it occurs, we will call the event in the click method of the category container.</p>
<p>Let's change the description of the application:</p>
<pre><code class="javascript language-javascript"><span class="js-vars">var</span> State <span class="js-vars">=</span> {

 categories<span class="js-vars">:</span> {
container<span class="js-vars">:</span> "category",
<span class="js-comments">// added the listener of the "emiter-click-on-category"</span>
event props<span class="js-vars">:</span> [ "data", "click", 'class', "title", ['listner_click_on_category', "emiter-click-on-category", ""]],
methods<span class="js-vars">:</span> {
click<span class="js-vars">:</span> <span class="js-vars-2">function</span>(){

 event.preventDefault();
 <span class="js-vars">var</span> CategoryID <span class="js-vars">=</span> <span class="js-vars-2">this</span>.<span class="tag">parent</span>.props.data.<span class="js-vars-2">getProp</span>();
<span class="js-comments">//calling the "emiter-click-on-category" event</span>
<span class="js-comments">// by passing data from the data property of the container that was clicked to it</span>
 <span class="js-vars-2">this</span>.rootLink.eventProps["emiter-click-on-category"].setEventProp(categoryId);

 <span class="js-comments">//creating a url based on data from the container's data property,</span>
 <span class="js-comments">//one for the history - historyUrl we will need in the future,</span>
<span class="js-comments">// the second to make a request to receive product cards to the address /category/:idCategory/json</span>

 <span class="js-vars">var</span> historyUrl <span class="js-vars">=</span> "/category/"+categoryId;
 <span class="js-vars">var</span> url <span class="js-vars">=</span> historyUrl+"/json";

listner_click_on_category<span class="js-vars">:</span> <span class="js-vars-2">function</span>(){
<span class="js-comments">//in the listener of the category click event, we remove the "active" class from all containers</span>
<span class="js-comments">// then install it on the container whose data properties match</span>
<span class="js-comments">// with the data passed to the "emiter-click-on-category" event</span>

 <span class="js-vars-2">this</span>.<span class="tag">parent</span>.props.class.<span class="js-vars-2">removeProp</span>("active");

 if(this.<span class="tag">parent</span>.props.data.<span class="js-vars-2">getProp</span>() == <span class="js-vars-2">this</span>.emiter.prop){ 
 <span class="js-vars-2">this</span>.<span class="tag">parent</span>.props.class.<span class="js-vars-2">setProp</span>("active");
         } 
      },
   } 
 },
 carts<span class="js-vars">:</span> {
 container<span class="js-vars">:</span> "cart",
 props<span class="js-vars">:</span> [ ],
 methods<span class="js-vars">:</span> {

     }
},
stateProperties:{ <span class="js-comments">//object for storing common application variables </span>
 carts<span class="js-vars">:</span> [], 
 },
stateMethods<span class="js-vars">:</span> {
fetchCategoryCarts<span class="js-vars">:</span> <span class="js-vars-2">function</span>(url, callb){
<span class="js-comments">// a general method for loading data from any address with a get request,</span>
<span class="js-comments">//takes the url address and callback function callb in the parameters,</span>
<span class="js-comments">// to which it will transmit the received data </span>

 fetch(url).then((response) =&gt; {
 if(response.ok) {
 return response.json();
 } 
 throw <span class="js-vars">new</span> Error('Network response was not ok');
 }).then((json) =&gt; {
 callb(json); 
 }).catch((error) =&gt; {
 <span class="js-vars-2">console</span>.log(error);
 }); 
 }, 
 load_carts<span class="js-vars">:</span> <span class="js-vars-2">function</span>(url){
<span class="js-comments">//the method calls fetchCategoryCarts by passing a callback function to it </span>
 <span class="js-comments">// in which we insert data from the server into the carts variable of the stateProperties object</span>
 <span class="js-comments">//in the future we will also call the "emiter-load-carts" event, which we have not yet created</span>
<span class="js-comments">//this in the methods from the stateMethods object points to rootLink</span>

<span class="js-vars">var</span> context <span class="js-vars">=</span> this;

 <span class="js-vars-2">this</span>.stateMethods.fetchCategoryCarts(url, <span class="js-vars-2">function</span>(data){

 context.stateProperties.carts <span class="js-vars">=</span> data;

 <span class="js-vars-2">console</span>.log(data)
 <span class="js-comments">//context.eventProps["emiter-load-carts"].setEventProp(data); </span>

 });
 },

 },
eventEmiters<span class="js-vars">:</span> {<span class="js-comments">//created an object with all user events</span>

 ["emiter-click-on-category"] <span class="js-vars">:</span> { <span class="js-comments">//added the "emiter-click-on-category" event </span>
 prop<span class="js-vars">:</span> [],
},
}
}
window.onload <span class="js-vars">=</span> <span class="js-vars-2">function</span>(){
<span class="js-comments">///creating an HTMLix instance</span>

 <span class="js-vars">var</span> HM <span class="js-vars">=</span> <span class="js-vars">new</span> HTMLixState(State);
 <span class="js-vars-2">console</span>.log(HM);
}
</code></pre>
<p>Now, when we click on a category, the class of the current category changes using the "emiter-click-on-category" event, and data is loaded from the server using the <code>load_carts</code> method of the stateMethods object, which we save in the carts property of the stateProperties object and output to the console for now.</p>
<p>When clicking on another menu item, or on the product card, an error appears that it cannot find any property, so far we do not pay attention to them, this is due to the fact that we have not created a router and htmlix does not know where to look for templates for them.</p>
<p>Next, let's add the properties of the <code>cart</code> container of the <code>carts</code> component : </p>
<ul>
<li><code>"data"</code> - data that contains '/cart/:idCart' ("/cart/{{cart._id}}" ), </li>
<li><code>"title_category"</code> - category name {{cart.titleCategory}},</li>
<li><code>"cost"</code> - product cost {{cart.cost}},</li>
<li><code>title</code> - access to the text inside the card ({{cart.title}} ),</li>
<li><code>"src_img"</code> - address of the card image "/static/upload/{{cart.image}}",</li>
<li><code>"click"</code> - event handler for clicking on the product card
and also create an additional property of the <em>carts</em> array - <code>listener_load_carts</code> which will listen to the "emiter-load-carts" event - loading product cards, we will call it in the <code>load_carts</code> method of the stateMethods object.</li>
</ul>
<p>Now let's add all the properties to our <code>carts</code> component:</p>
<pre><code class="javascript language-javascript"> carts<span class="js-vars">:</span> {
<span class="js-comments">//added the listener_load_carts property for the carts array</span>
 arrayProps<span class="js-vars">:</span> [ ['listener_load_carts', "emiter-load-carts", ""] ],
 arrayMethods<span class="js-vars">:</span> { 
 listener_load_carts<span class="js-vars">:</span> <span class="js-vars-2">function</span>(){ <span class="js-comments">//listening to the "emiter-load-carts" event</span>

 <span class="js-vars-2">this</span>.<span class="tag">parent</span>.removeAll(); <span class="js-comments">//clearing the array</span>

 <span class="js-vars">var</span> carts <span class="js-vars">=</span> <span class="js-vars-2">this</span>.emiter.prop;

 for(<span class="js-vars">var</span> i=0; i&lt;carts.length; i++){
<span class="js-comments">//in the loop, iterate through the resulting array with product cards </span>

 <span class="js-vars">var</span> cart <span class="js-vars">=</span> carts[i];

 <span class="js-vars">var</span> props <span class="js-vars">=</span> { <span class="js-comments">//creating an object with all the properties for the container cart</span>

title<span class="js-vars">:</span> cart.title,
title_category<span class="js-vars">:</span> cart.titleCategory,
 cost<span class="js-vars">:</span> cart.cost,
 src_img<span class="js-vars">:</span> '/static/upload/'+cart.image,
 data<span class="js-vars">:</span> "/
<span class="js-vars-2">this</span>.<span class="tag">parent</span>.add(props); 
 <span class="js-comments">//adding a <span class="js-vars">new</span> container by passing in the initial data for the properties</span>
     }
  }
},
container<span class="js-vars">:</span> "cart",
<span class="js-comments">//added all the properties for the cart container</span>
 props<span class="js-vars">:</span> ['title', "title_category", "cost", "click", "src_img", "data" ],
methods<span class="js-vars">:</span> {
click<span class="js-vars">:</span> <span class="js-vars-2">function</span>(){ <span class="js-comments">//method for processing clicks on the product card,</span>
<span class="js-comments">//so far just outputs the card url to the console</span>

 event.preventDefault(); 
 <span class="js-vars">var</span> url <span class="js-vars">=</span> <span class="js-vars-2">this</span>.<span class="tag">parent</span>.props.data.<span class="js-vars-2">getProp</span>();
 <span class="js-vars-2">console</span>.log(url); 
       }
    } 
 },
</code></pre>
<p>Also, don't forget to uncomment the "emiter-load-carts" event call in the <code>load_carts</code> method and add a new event to the eventEmiters object:</p>
<pre><code class="javascript language-javascript">load_carts<span class="js-vars">:</span> <span class="js-vars-2">function</span>(url, context ){

 <span class="js-vars">var</span> context <span class="js-vars">=</span> this;

 <span class="js-vars-2">this</span>.stateMethods.fetchCategoryCarts(url, <span class="js-vars-2">function</span>(data){

 context.stateProperties.carts <span class="js-vars">=</span> data;
 context.eventProps["emiter-load-carts"].setEventProp(data); 

 });
<span class="js-comments">//commented out the call of the "emiter-load-carts"</span>
<span class="js-comments">//now we are passing an array of carts received from the server to it,</span>
<span class="js-comments">// in the event handler they can be obtained by calling <span class="js-vars-2">this</span>.emiter.prop </span>
},

 <span class="js-comments">///*********************************************</span>

eventEmiters<span class="js-vars">:</span> {
 <span class="js-comments">// ------------------------------ </span>
 ["emiter-load-carts"]<span class="js-vars">:</span> { <span class="js-comments">//added a <span class="js-vars">new</span> event</span>

 prop<span class="js-vars">:</span> "",
 }
 } 
</code></pre>
<p>Well, now when you click on a category, data is loaded from the server and displayed in the carts component, but when you click on the product card, nothing happens yet, except for the output to the console of the address of the card being viewed <code>/cart/:idCart</code></p>
<p>Next, we will create a product card component <code>cart_single</code>, but before creating it, let's figure out how htmlix works:</p>
<p>So when loading a page from the address "/" or "/category/:idCategory", the server sends us the html code of two components, more precisely three, another "menu", but we don't use it yet, we use html code for the carts and categories components, based on this code htmlix creates templates for components, but the template for the <code>cart_single</code> component is not passed to us at these addresses, because it is not there. How do we "load up" it? </p>
<p>We will create the <code>cart_single</code> component in the application description and put it in a special object <code>"fetchComponents"</code> and in the settings <code>stateSettings.templatePath</code> we will specify the address at which to download templates for this component, and all the others that will appear. Thus, the application will first create the components that the server sent along with the html, and then after sending the second request to stateSettings.templatePath, it will create the remaining components,located in the fetchComponents object.</p>
<p>This is what we would do if we always had the first login to the application from the addresses, "/" or "/category/:idCategory", and what if we then first download the application from the address <code>"/cart/:idCart"</code> ? The application will give an error that it cannot find a template for the array of carts, since now it will not be at this address and we now need to put carts in the object <code>"fetchComponents"</code> a <code>single_cart</code> on the contrary to get it from there, because it must be initialized first along with the categories component, what should we do?</p>
<p>To solve this problem, we will use <code>HTMLixRouter()</code>, before creating an instance of the application, after loading the page, it checks which url address is now and compares it with those that we will indicate to it, and then puts those for which there is no template in the first load into the `"fetchComponents" object, after that, initializes the application, so we will avoid creating several versions of the application description for different urls and, accordingly, code duplication.</p>
<p>So so far we have three addresses "/","/category/:idCategory" and "/cart/:idCart", the three main components are carts, categories and <code>cart_single</code>. At the first two addresses, the carts and categories components should be initialized first, and at the address "/cart/:idCart" - categories and cart_single. </p>
<p>So let's create a routes object for them and put it separately he writes the State application in a variable :</p>
<pre><code class="javascript language-javascript"><span class="js-vars">var</span> routes <span class="js-vars">=</span> {

 ["/"]<span class="js-vars">:</span> { 
 first<span class="js-vars">:</span> ["categories", 'carts'], <span class="js-comments">/// the components that are in the html file on this route are specified in this array, the rest will be loaded from the template, asynchronously in the fetch request</span>

routComponent<span class="js-vars">:</span> {
router_carts<span class="js-vars">:</span> "carts", <span class="js-comments">//component corresponding to this route</span>
}, 
 templatePath<span class="js-vars">:</span> "/static/templates/index.html " <span class="js-comments">// folder for downloading templates</span>
}, 
 ["/category/:idCategory"]<span class="js-vars">:</span> { <span class="js-comments">//sign `:` says that this is a parameter, and no comparison is required with it, only its presence is checked.</span>

 first<span class="js-vars">:</span> ["categories", 'carts', "menu", "home_page"], 

 routComponent<span class="js-vars">:</span> { 
 router_carts<span class="js-vars">:</span> "carts", 
 }, 
 templatePath<span class="js-vars">:</span> "/static/templates/index.html" 
 }, 
["/cart/:idCart"]<span class="js-vars">:</span> { 

 first<span class="js-vars">:</span> ["categories", 'cart_single'], 

 routComponent<span class="js-vars">:</span> {
 router_carts<span class="js-vars">:</span> "cart_single", 
 },
 templatePath<span class="js-vars">:</span> "/static/templates/index.html"
 },
}
</code></pre>
<p>So we created three routes for the router, here <code>router_carts</code> is a div element in which "carts" will be displayed on the first two addresses, and on the third "cart_single", in html (in the files <code>/views/index.twig</code> and <code>/views/cart.twig</code>) it is specified as <code>data-router_carts="router"</code>. </p>
<p>Next, we will add <code>cart_single</code> to the application description along with the following properties:</p>
<ul>
<li><code>"variant_tmpl"</code> is a property with the type "render-variant" for displaying an additional variant of the template (<code>cart_variant_option.twig</code> or <code>cart_variant_radio.twig</code> depending on the category) in the html code <code>data-cart_single-variant_tmpl</code>="render-variant",</li>
<li><code>title" - Product card name</code>data-cart_single-title'="text", </li>
<li><code>"title_category"</code> category name,</li>
<li><code>"manufacture"</code> - manufacturer,</li>
<li><code>"cost"</code> - cost,</li>
<li><code>"description"</code> - description,</li>
<li><code>"cost_btn"</code> the cost in the button,</li>
<li><code>"src_img"</code> picture `data-cart<em>single-src</em>img'="sgc", </li>
<li><code>"data"</code> - data with category id to generate url - data-cart_single-data="{{cart.category }}",</li>
<li><code>"click"</code> - category click event in the product card,</li>
<li><code>"listner_click_on_cart"</code> user event listener - "emiter-click-on-cart", </li>
</ul>
<pre><code>cart_single<span class="js-vars">:</span> {
 container<span class="js-vars">:</span> "cart_single",

 <span class="js-comments">//for now, we will comment out the properties with component variants, since we have not yet created the components themselves.</span>
 props<span class="js-vars">:</span> [
 /*"variant_tmpl"*/, 'title', "title_category", "manufacture", "cost", "description", 
 "cost_btn", "src_img", ["listner_click_on_cart", "emiter-click-on-cart", ""], 
 "click", "data"
 ],
methods<span class="js-vars">:</span> {

listner_click_on_cart<span class="js-vars">:</span> <span class="js-vars-2">function</span>(){

<span class="js-vars">var</span> index <span class="js-vars">=</span> <span class="js-vars-2">this</span>.emiter.geteventprop();
<span class="js-comments">//getting the index of the card container clicked on in the carts component</span>

 <span class="js-vars">var</span> cart <span class="js-vars">=</span> <span class="js-vars-2">this</span>.rootLink.stateProperties.carts[index];
 <span class="js-comments">//we select from the cards loaded earlier in the array the one we need by the container index </span>

 <span class="js-vars">var</span> props <span class="js-vars">=</span> {

 title<span class="js-vars">:</span> cart.title,
 title_category<span class="js-vars">:</span> cart.titleCategory,
 cost<span class="js-vars">:</span> cart.cost,
 src_img<span class="js-vars">:</span> '/static/upload/'+cart.image,
 data<span class="js-vars">:</span> cart.category,
 description<span class="js-vars">:</span> cart.description,
 cost_btn<span class="js-vars">:</span> cart.cost,
 manufacture<span class="js-vars">:</span> cart.manufacture,
<span class="js-comments">// variant_tmpl<span class="js-vars">:</span> cart.variant_tmpl, for now we will comment on the installation of the template variant, because we have not yet created components for them.</span>

 }

 <span class="js-vars-2">this</span>.<span class="tag">parent</span>.setAllProps(props);
 <span class="js-comments">//set <span class="js-vars">new</span> values for all properties at once, using the setAllProps(props) method;</span>
},
click<span class="js-vars">:</span> <span class="js-vars-2">function</span>(){
event.preventDefault();
<span class="js-comments">//we will create this method a little later, for now we just output the category id to the console</span>
<span class="js-vars-2">console</span>.log(this.<span class="tag">parent</span>.props.data)
}
},
},
</code></pre>
<p>
Next, we will add additional code to the <code>click</code> method of the 'cart' container of the <code>carts</code> component</p>
<pre><code>click<span class="js-vars">:</span> <span class="js-vars-2">function</span>(){ 

 event.preventDefault(); 
 <span class="js-vars">var</span> url <span class="js-vars">=</span> <span class="js-vars-2">this</span>.<span class="tag">parent</span>.props.data.<span class="js-vars-2">getProp</span>(); <span class="js-comments">//in the data property of the cart container, we have the url of the product line. </span>

 <span class="js-comments">//added a call to the "emiter-click-on-cart" event, which we listen to in the single_cart component and update the data of all properties</span>
<span class="js-comments">//we pass the index of the container clicked to it</span>

<span class="js-vars-2">this</span>.rootLink.eventProps["emiter-click-on-cart"].setEventProp(this.<span class="tag">parent</span>.index);

 <span class="js-comments">//calling the setRout method by passing a <span class="js-vars">new</span> url to it,</span>
<span class="js-comments">// so that the router changes the carts component to cart_single in the div element with data-<span class="data-main-attr">router_carts</span><span class="data-attr"></span>="router" </span>

 <span class="js-vars-2">this</span>.rootLink.router.setRout(url); 
}
</code></pre>
<p>Next, add a new "emiter-click-on-cart" event to the eventEmiters object</p>
<pre><code> eventEmiters<span class="js-vars">:</span> {

 ["emiter-click-on-cart"]<span class="js-vars">:</span> {

 prop<span class="js-vars">:</span> "",
},
</code></pre>
<p>And also to the end of the click method of the category container of the categories component:</p>
<pre><code class="javascript language-javascript">click<span class="js-vars">:</span> <span class="js-vars-2">function</span>() {

 <span class="js-comments">//the setRout method takes the url and compares it with the map we created in the routes object</span>
 <span class="js-comments">//sets the carts component in the div tag `data-router_carts="router"` </span>
 /* ............ end of method ............*/
<span class="js-vars-2">this</span>.rootLink.router.setRout(historyUrl); 
}
</code></pre>
<p>And don't forget to replace the method of loading the application, now we pass our routes and the description of the State application to the HTMLixRouter() function.</p>
<pre><code class="javascript language-javascript">window.onload <span class="js-vars">=</span> <span class="js-vars-2">function</span>(){

 <span class="js-comments">///creating an HTMLix instance</span>
 <span class="js-vars">var</span> HM <span class="js-vars">=</span> HTMLixRouter(State, routes);

 <span class="js-vars">var</span> url <span class="js-vars">=</span> window.location.pathname;

 if(window.location.pathname == "/"){

 url <span class="js-vars">=</span> url+"json";

 }else{

 url <span class="js-vars">=</span> url + "/json";
 }

<span class="js-comments">//we send a request to load an array with all product cards when</span>
the HM.stateMethods application is first loaded.fetchCategoryCarts(url, <span class="js-vars-2">function</span>(arr){ HM.stateProperties.carts <span class="js-vars">=</span> arr; });
 <span class="js-vars-2">console</span>.log(HM);
}
</code></pre>
<p>Well, now our application works for three urls, except for changing the template option for <code>single_cart</code> and clicking on the category from `single_cart'. Let's call out and see that everything is in order.</p>
<p>Next, let's create two new components in the application description - to change the template option in the single cart component:</p>
<pre><code> cart_variant_option<span class="js-vars">:</span> {
 container<span class="js-vars">:</span> "cart_variant_option", <span class="js-comments">// views/twig_templates/ data-<span class="data-main-attr">cart_variant_option</span><span class="data-attr"></span>="container"</span>

 props<span class="js-vars">:</span> ["click", "select"], <span class="js-comments">//data-cart_variant_option-select="select" , data-<span class="data-main-attr">cart_variant_option</span>-<span class="data-attr">click</span>="click"</span>
 methods<span class="js-vars">:</span> { 
 click<span class="js-vars">:</span> <span class="js-vars-2">function</span>(){

 <span class="js-vars-2">console</span>.log(this.<span class="tag">parent</span>.props.select.<span class="js-vars-2">getProp</span>());
 }
 }

 },
 cart_variant_radio<span class="js-vars">:</span> {
 selector<span class="js-vars">:</span> "div:last-of-type",
 container<span class="js-vars">:</span> "cart_variant_radio_cont",
 props<span class="js-vars">:</span> ["click", "radio"],
 methods<span class="js-vars">:</span> { 

 click<span class="js-vars">:</span> <span class="js-vars-2">function</span>(){

 <span class="js-vars-2">console</span>.log(this.<span class="tag">parent</span>.index+" --- "+this.<span class="tag">parent</span>.props.radio.<span class="js-vars-2">getProp</span>());
 }

 }

 },
</code></pre>
<p>After that, we uncomment the <code>variant_tmpl</code> property of the <code>cart_single</code> container component</p>
<pre><code>cart_single<span class="js-vars">:</span> {
 container<span class="js-vars">:</span> "cart_single",
 props<span class="js-vars">:</span> ["variant_tmpl"
</code></pre>
<p>And in the <code>listner_click_on_cart</code> method:</p>
<pre><code> <span class="js-vars">var</span> props <span class="js-vars">=</span> {

 title<span class="js-vars">:</span> cart.title,
 title_category<span class="js-vars">:</span> cart.titleCategory,
 cost<span class="js-vars">:</span> cart.cost,
 src_img<span class="js-vars">:</span> '/static/upload/'+cart.image,
 data<span class="js-vars">:</span> cart.category,
 description<span class="js-vars">:</span> cart.description,
 cost_btn<span class="js-vars">:</span> cart.cost,
 manufacture<span class="js-vars">:</span> cart.manufacture,
 variant_tmpl<span class="js-vars">:</span> cart.variant_tmpl, <span class="js-comments">//commented out</span>

 }
</code></pre>
<p>Now, when you click on the product card, we will have a different template in different product categories, and in the variant_tmpl property one of the two components <code>cart_variant_radio</code> - laptops and TVs <code>cart_variant_option</code> - cameras.</p>
<p>Next, let's add the code to the <code>click</code> method of the <code>cart_single</code> container component so that when we click on a category from inside the product card, the active category also changes and the component displayed in the router changes, however, in order not to duplicate the code, since it will be the same as in the <code>categories</code> component, we will inherit from it this method, and we will delete the old one.</p>
<pre><code> cart_single<span class="js-vars">:</span> {
 container<span class="js-vars">:</span> "cart_single",

 props<span class="js-vars">:</span> [
 "variant_tmpl", 'title', "title_category", "manufacture", "cost", "description", "cost_btn", 
 "src_img", ["listner_click_on_cart", "emiter-click-on-cart", ""], "data", <span class="js-comments">//"click", </span>
 ["click", "extend", "categories", "props"]<span class="js-comments">///inheriting the property from the "categories" component</span>
 ],

/* commented
out the click<span class="js-vars">:</span> <span class="js-vars-2">function</span>() method{
event.preventDefault();
<span class="js-vars-2">console</span>.log(this.<span class="tag">parent</span>.props.data)
} */
</code></pre>
<p>So we created the first part of the prototype of an online store for three url addresses, the full application script up to this point is given below, that's all for now.</p>
<pre><code><span class="js-vars">var</span> State <span class="js-vars">=</span> {

 categories<span class="js-vars">:</span> {
container<span class="js-vars">:</span> "category",
<span class="js-comments">// added the listener of the "emiter-click-on-category"</span>
event props<span class="js-vars">:</span> [ "data", "click", 'class', "title", ['listner_click_on_category', "emiter-click-on-category", ""]],
methods<span class="js-vars">:</span> {
click<span class="js-vars">:</span> <span class="js-vars-2">function</span>(){

 event.preventDefault();
 <span class="js-vars">var</span> CategoryID <span class="js-vars">=</span> <span class="js-vars-2">this</span>.<span class="tag">parent</span>.props.data.<span class="js-vars-2">getProp</span>();
<span class="js-comments">//calling the "emiter-click-on-category" event</span>
<span class="js-comments">// by passing data from the data property of the container that was clicked to it</span>
 <span class="js-vars-2">this</span>.rootLink.eventProps["emiter-click-on-category"].setEventProp(categoryId);

 <span class="js-comments">//creating a url based on data from the container's data property,</span>
 <span class="js-comments">//one for the history - historyUrl we will need in the future,</span>
<span class="js-comments">// the second to make a request to receive product cards to the address /category/:idCategory/json</span>

 <span class="js-vars">var</span> historyUrl <span class="js-vars">=</span> "/category/"+categoryId;
 <span class="js-vars">var</span> url <span class="js-vars">=</span> historyUrl+"/json"; 

<span class="js-vars-2">this</span>.rootLink.stateMethods.load_carts(url);

 <span class="js-comments">//changing the component in the div tag `data-router_carts="router"` - to carts </span>
 <span class="js-vars-2">this</span>.rootLink.router.setRout(historyUrl); 

 },
listner_click_on_category<span class="js-vars">:</span> <span class="js-vars-2">function</span>(){
<span class="js-comments">//in the listener of the category click event, we remove the "active" class from all containers</span>
<span class="js-comments">// then install it on the container whose data properties match</span>
<span class="js-comments">// with the data passed to the "emiter-click-on-category" event</span>

 <span class="js-vars-2">this</span>.<span class="tag">parent</span>.props.class.<span class="js-vars-2">removeProp</span>("active");

 if(this.<span class="tag">parent</span>.props.data.<span class="js-vars-2">getProp</span>() == <span class="js-vars-2">this</span>.emiter.prop){ 
 <span class="js-vars-2">this</span>.<span class="tag">parent</span>.props.class.<span class="js-vars-2">setProp</span>("active");
 }
},
}
},
carts<span class="js-vars">:</span> {
<span class="js-comments">//added the listener_load_carts property for the carts array</span>
 arrayProps<span class="js-vars">:</span> [ ['listener_load_carts', "emiter-load-carts", ""] ],
 arrayMethods<span class="js-vars">:</span> { 
 listener_load_carts<span class="js-vars">:</span> <span class="js-vars-2">function</span>(){ <span class="js-comments">//listening to the "emiter-load-carts" event</span>
<span class="js-vars-2">this</span>.<span class="tag">parent</span>.removeAll(); <span class="js-comments">//clearing the array</span>

 <span class="js-vars">var</span> carts <span class="js-vars">=</span> <span class="js-vars-2">this</span>.emiter.prop;

 for(<span class="js-vars">var</span> i=0; i&lt;carts.length; i++){
<span class="js-comments">//in the loop, iterate through the resulting array with product cards </span>

 <span class="js-vars">var</span> cart <span class="js-vars">=</span> carts[i];

 <span class="js-vars">var</span> props <span class="js-vars">=</span> { <span class="js-comments">//creating an object with all the properties for the cart container</span>

 title<span class="js-vars">:</span> cart.title,
 title_category<span class="js-vars">:</span> cart.titleCategory,
 cost<span class="js-vars">:</span> cart.cost,
 src_img<span class="js-vars">:</span> '/static/upload/'+cart.image,
 data<span class="js-vars">:</span> "/cart/"+cart._id
 }

 <span class="js-vars-2">this</span>.<span class="tag">parent</span>.add(props); 
 <span class="js-comments">//adding a <span class="js-vars">new</span> container by passing in the initial data for the properties</span>
}
}
},
container<span class="js-vars">:</span> "cart",
<span class="js-comments">//added all the properties for the cart container</span>

props<span class="js-vars">:</span> ['title', "title_category", "cost", "click", "src_img", "data" ],
methods<span class="js-vars">:</span> {
click<span class="js-vars">:</span> <span class="js-vars-2">function</span>(){ <span class="js-comments">//method for processing clicks on the product card, </span>

 event.preventDefault(); 
 <span class="js-vars">var</span> url <span class="js-vars">=</span> <span class="js-vars-2">this</span>.<span class="tag">parent</span>.props.data.<span class="js-vars-2">getProp</span>(); <span class="js-comments">//in the data property of the cart container, we have the url of the product line.</span>
 <span class="js-vars-2">console</span>.log(url);


 <span class="js-comments">//added a call to the "emiter-click-on-cart" event that we are listening to in the single_cart component </span>
 <span class="js-comments">//we pass to it the index of the container that was clicked on</span>
 <span class="js-vars-2">this</span>.rootLink.eventProps["emiter-click-on-cart"].setEventProp(this.<span class="tag">parent</span>.index);

 <span class="js-comments">//calling the setRout method by passing a <span class="js-vars">new</span> url to it,</span>
<span class="js-comments">// so that the router changes the carts component to cart_single in the div element with data-<span class="data-main-attr">router_carts</span><span class="data-attr"></span>="router" </span>
 <span class="js-vars-2">this</span>.rootLink.router.setRout(url); 


     }
    } 
 },
 cart_single<span class="js-vars">:</span> {
 container<span class="js-vars">:</span> "cart_single",

props<span class="js-vars">:</span> [
 "variant_tmpl", 'title', "title_category", "manufacture", "cost", "description", "cost_btn", 
 "src_img", ["listner_click_on_cart", "emiter-click-on-cart", ""], "data", <span class="js-comments">//"click",</span>
 ["click", "extend", "categories", "props"]<span class="js-comments">///inheriting the property from the "categories" component</span>
 ],

 methods<span class="js-vars">:</span> {

 listner_click_on_cart<span class="js-vars">:</span> <span class="js-vars-2">function</span>(){

 <span class="js-vars">var</span> index <span class="js-vars">=</span> <span class="js-vars-2">this</span>.emiter.getEventProp();
<span class="js-comments">//we get the index of the card container that was clicked on in the carts component</span>

 <span class="js-vars">var</span> cart <span class="js-vars">=</span> <span class="js-vars-2">this</span>.rootLink.stateProperties.carts[index];
 <span class="js-comments">//we select from the cards loaded earlier in the array the one we need by the container index </span>

 <span class="js-vars">var</span> props <span class="js-vars">=</span> {

 title<span class="js-vars">:</span> cart.title,
 title_category<span class="js-vars">:</span> cart.titleCategory,
 cost<span class="js-vars">:</span> cart.cost,
 src_img<span class="js-vars">:</span> '/static/upload/'+cart.image,
 data<span class="js-vars">:</span> cart.category,
 description<span class="js-vars">:</span> cart.description,
 cost_btn<span class="js-vars">:</span> cart.cost,
 manufacture<span class="js-vars">:</span> cart.manufacture,
variant_tmpl<span class="js-vars">:</span> cart.variant_tmpl,

 }

 <span class="js-vars-2">this</span>.<span class="tag">parent</span>.setAllProps(props);
 <span class="js-comments">//setting <span class="js-vars">new</span> values for all properties at once, using the setAllProps(props) method;</span>
},
/*
click<span class="js-vars">:</span> <span class="js-vars-2">function</span>(){
event.preventDefault();
<span class="js-vars-2">console</span>.log(this.<span class="tag">parent</span>.props.data)
} */
},
},
cart_variant_option<span class="js-vars">:</span> {
container<span class="js-vars">:</span> "cart_variant_option", <span class="js-comments">// views/twig_templates/ data-<span class="data-main-attr">cart_variant_option</span><span class="data-attr"></span>="container"</span>

 props<span class="js-vars">:</span> ["click", "select"], <span class="js-comments">//data-cart_variant_option-select="select" , data-<span class="data-main-attr">cart_variant_option</span>-<span class="data-attr">click</span>="click"</span>
 methods<span class="js-vars">:</span> { 
 click<span class="js-vars">:</span> <span class="js-vars-2">function</span>(){

 <span class="js-vars-2">console</span>.log(this.<span class="tag">parent</span>.props.select.<span class="js-vars-2">getProp</span>());
 }
 }
},
cart_variant_radio<span class="js-vars">:</span> {
 selector<span class="js-vars">:</span> "div:last-of-type",
 container<span class="js-vars">:</span> "cart_variant_radio_cont",
 props<span class="js-vars">:</span> ["click", "radio"],
 methods<span class="js-vars">:</span> { 

 click<span class="js-vars">:</span> <span class="js-vars-2">function</span>(){

 <span class="js-vars-2">console</span>.log(this.<span class="tag">parent</span>.index+" --- "+this.<span class="tag">parent</span>.props.radio.<span class="js-vars-2">getProp</span>());
 }

 }

 },
stateProperties:{ <span class="js-comments">//object for storing common application variables </span>
 carts<span class="js-vars">:</span> [],
},
stateMethods<span class="js-vars">:</span> {
fetchCategoryCarts<span class="js-vars">:</span> <span class="js-vars-2">function</span>(url, callb){
<span class="js-comments">// a general method for loading data from any address with a get request,</span>
<span class="js-comments">//takes the url address and callback function callb in the parameters,</span>
<span class="js-comments">// to which it will transmit the received data</span>
fetch(url).then((response) =&gt; {
 if(response.ok) {
 return response.json();
 } 
 throw <span class="js-vars">new</span> Error('Network response was not ok');
 }).then((json) =&gt; {
 callb(json); 
 }).catch((error) =&gt; {
 <span class="js-vars-2">console</span>.log(error);
 }); 
 }, 
 load_carts<span class="js-vars">:</span> <span class="js-vars-2">function</span>(url){
<span class="js-comments">//the method calls fetchCategoryCarts by passing a callback function to it </span>
 <span class="js-comments">// in which we insert data from the server into the carts variable of the stateProperties object</span>
<span class="js-comments">//this in methods from the stateMethods object points to rootLink</span>

 <span class="js-vars">var</span> context <span class="js-vars">=</span> this;

 <span class="js-vars-2">this</span>.stateMethods.fetchCategoryCarts(url, <span class="js-vars-2">function</span>(data){

 context.stateProperties.carts <span class="js-vars">=</span> data;

 context.eventProps["emiter-load-carts"].setEventProp(data); 

   });
  },

 },

eventEmiters<span class="js-vars">:</span> {<span class="js-comments">//created an object with all user events</span>

 ["emiter-click-on-category"] <span class="js-vars">:</span> { <span class="js-comments">//added the "emiter-click-on-category" event </span>
 prop<span class="js-vars">:</span> [], 
 },
 ["emiter-load-carts"]<span class="js-vars">:</span> { 
 prop<span class="js-vars">:</span> "",
 },
 ["emiter-click-on-cart"]<span class="js-vars">:</span> {
 prop<span class="js-vars">:</span> "",
 }, 
 } 
}

<span class="js-vars">var</span> routes <span class="js-vars">=</span> {

 ["/"]<span class="js-vars">:</span> { 
 first<span class="js-vars">:</span> ["categories", 'carts'], <span class="js-comments">/// the components that are in the html file are specified in this array, the rest will be loaded from the template, asynchronously in the fetch request</span>
routComponent<span class="js-vars">:</span> {
router_carts<span class="js-vars">:</span> "carts", <span class="js-comments">//component corresponding to this route</span>
}, 
 templatePath<span class="js-vars">:</span> "/static/templates/index.html " <span class="js-comments">// folder for downloading templates</span>
}, 
 ["/category/:idCategory"]<span class="js-vars">:</span> { <span class="js-comments">//sign `:` says that this is a parameter, and no comparison is required with it, only its presence is checked</span>

 first<span class="js-vars">:</span> ["categories", 'carts', "menu", "home_page"], 

 routComponent<span class="js-vars">:</span> { 
 router_carts<span class="js-vars">:</span> "carts", 
 }, 
 templatePath<span class="js-vars">:</span> "/static/templates/index.html" 
 }, 
 ["/cart/:idCart"]<span class="js-vars">:</span> { 

 first<span class="js-vars">:</span> ["categories", 'cart_single'], 

 routComponent<span class="js-vars">:</span> {
 router_carts<span class="js-vars">:</span> "cart_single", 
 },
 templatePath<span class="js-vars">:</span> "/static/templates/index.html"
 },
}

window.onload <span class="js-vars">=</span> <span class="js-vars-2">function</span>(){

 <span class="js-comments">///creating an HTMLix instance</span>
 <span class="js-vars">var</span> HM <span class="js-vars">=</span> HTMLixRouter(State, routes);

 <span class="js-vars">var</span> url <span class="js-vars">=</span> window.location.pathname;

 if(window.location.pathname == "/"){

 url <span class="js-vars">=</span> url+"json";

 }else{

 url <span class="js-vars">=</span> url + "/json";
 } 

 <span class="js-comments">//we send a request to load an array with all product cards when</span>
the HM.stateMethods application is first loaded.fetchCategoryCarts(url, <span class="js-vars-2">function</span>(arr){ HM.stateProperties.carts <span class="js-vars">=</span> arr; });
 <span class="js-vars-2">console</span>.log(HM);
}
</code></pre></div>			
					
				</div><!-- end page_single -->
			</div>	<!-- end router_page -->  			
			
			
			

		</div><!-- row -->
</div></div>  <!-- router_main -->



 
</div><!-- container-fluid -->	

	<script src="https://sergey123ovechkin.github.io/simple-cms/dbase/CATEGORIES.js"></script>
	<script src="https://sergey123ovechkin.github.io/simple-cms/dbase/SECTIONS.js"></script>
	<script src="https://sergey123ovechkin.github.io/simple-cms/dbase/category_id.js"></script>
	
	<script src="https://sergey123ovechkin.github.io/simple-cms/static/template/template.js"></script>
	
	<script src="https://sergey123ovechkin.github.io/simple-cms/static/js/htmlix.js"></script>
	<script src="https://sergey123ovechkin.github.io/simple-cms/static/js/front.js"></script>
		<script src="https://sergey123ovechkin.github.io/simple-cms/static/js/tagWraper.js"></script>
</body>
 </html>